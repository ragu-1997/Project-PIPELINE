{
    "id": "/metrics/grafana",
    "instances": 1,
    "cpus": 2,
    "mem": 4096,
    "container": {
      "type": "DOCKER",
      "docker": {
        "image": "grafana/grafana:5.1.3",
        "network": "BRIDGE",
        "portMappings": [{"containerPort": 3000, "hostPort": 0, "protocol": "tcp"}],
        "parameters": [{
            "key": "volume-driver",
            "value": "rexray"
        }, {
            "key": "volume",
            "value": "metrics-grafana:/var/lib/grafana"
        }]
      }
    },
    "env": {
        "GF_SERVER_ROOT_URL": "https://grafana.jangl.com",
        "GF_AUTH_ANONYMOUS_ENABLED": "true",
        "GF_AUTH_BASIC_ENABLED": "false"
    },
    "labels":{
        "MARATHON_SINGLE_INSTANCE_APP": "true",
        "overrideTaskName": "grafana",
        "tags": "external,http,protected"
    },
    "healthChecks": [{
        "protocol": "MESOS_HTTP",
        "gracePeriodSeconds": 60,
        "intervalSeconds": 5,
        "portIndex": 0,
        "path": "/",
        "timeoutSeconds": 5,
        "maxConsecutiveFailures": 3
    }],
    "upgradeStrategy":{
        "minimumHealthCapacity": 0,
        "maximumOverCapacity": 0
    }
}
