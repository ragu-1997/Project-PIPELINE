{
    "id": "/metrics/influxdb",
    "instances": 1,
    "cpus": 2,
    "mem": 4096,
    "container": {
      "type": "DOCKER",
      "docker": {
        "image": "influxdb:1.5",
        "network": "HOST",
        "parameters": [{
            "key": "volume-driver",
            "value": "rexray"
        }, {
            "key": "volume",
            "value": "metrics-influxdb:/var/lib/influxdb"
        }]
      }
    },
    "env": {
        "INFLUXDB_ADMIN_ENABLED": "true",
        "INFLUXDB_OPENTSDB_0_ENABLED": "true",
        "INFLUXDB_OPENTSDB_DATABASE": "metrics"
    },
    "labels":{
        "MARATHON_SINGLE_INSTANCE_APP": "true",
        "overrideTaskName": "influxdb"
    },
    "ports": [4242],
    "requirePorts" : true,
    "healthChecks": [{
        "protocol": "MESOS_HTTP",
        "gracePeriodSeconds": 60,
        "intervalSeconds": 5,
        "port": 8086,
        "path": "/ping",
        "timeoutSeconds": 5,
        "maxConsecutiveFailures": 3
    }],
    "upgradeStrategy":{
        "minimumHealthCapacity": 0,
        "maximumOverCapacity": 0
    }
}
