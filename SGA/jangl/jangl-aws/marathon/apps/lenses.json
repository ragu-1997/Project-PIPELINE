{
    "id": "/metrics/lenses",
    "instances": 1,
    "cpus": 2,
    "mem": 6144,
    "container": {
      "type": "DOCKER",
      "docker": {
        "image": "lensesio/lenses:3.0",
        "network": "BRIDGE",
        "portMappings": [
          {"containerPort": 9991, "hostPort": 9991, "protocol": "tcp"}
        ],
        "parameters": [{
            "key": "volume-driver",
            "value": "rexray"
        }, {
            "key": "volume",
            "value": "metrics-lenses-storage:/data/storage"
        }, {
            "key": "volume",
            "value": "metrics-lenses-streams-stage:/data/kafka-streams-state"
        }]
      }
    },
    "env": {
        "LENSES_PORT": "9991",
        "DEBUG_SCRIPT": "true",
        "LENSES_KAFKA_BROKERS": "PLAINTEXT://kafka-0.node.dc1.consul:9092,PLAINTEXT://kafka-1.node.dc1.consul:9092,PLAINTEXT://kafka-2.node.dc1.consul:9092,PLAINTEXT://kafka-3.node.dc1.consul:9092,PLAINTEXT://kafka-4.node.dc1.consul:9092,PLAINTEXT://kafka-5.node.dc1.consul:9092",
        "LENSES_ZOOKEEPER_HOSTS": "[{url:\"kafka-zk-0.node.dc1.consul:2181\"},{url:\"kafka-zk-1.node.dc1.consul:2181\"},{url:\"kafka-zk-2.node.dc1.consul:2181\"}]",
        "LENSES_SCHEMA_REGISTRY_URLS": "[{url:\"http://kafka-schema.service.consul:8081\"}]",
        "LENSES_CONNECT_CLUSTERS": "[{name:\"jangl\",urls:[{url:\"http://kafka-connect-1.node.dc1.consul:8083\"},{url:\"http://kafka-connect-0.node.dc1.consul:8083\"},{url:\"http://kafka-connect-2.node.dc1.consul:8083\"}],statuses:\"__connect-status\",configs:\"__connect-config\",offsets:\"__connect-offsets\"}]",
        "LENSES_SECURITY_USER": "admin",
        "LENSES_SECURITY_PASSWORD": "sha256:8c6976e5b5410415bde908bd4dee15dfb167a9c873fc4bb8a81f6f2ab448a918",
        "LICENSE": "{\"source\":\"Lenses.io Ltd\",\"clientId\":\"8098b643-d5bb-4fdb-9f2d-cea98970cbff\",\"details\":\"Lenses\",\"key\":\"eyJhbGciOiJBMTI4S1ciLCJlbmMiOiJBMTI4Q0JDLUhTMjU2In0.NOZDUdVtG-J3IJ0pkyNplrcXTTUbm06xpGKhQXhc3arp-_kQOZzMgw.t01G5WFeGiEfDqPEusiZiw.KsYqntd9jKn1fgdfESLcFTnwiT9RXGnssvs4bnHPPuyyw2V73cWHALiPvaKu-A3-dSg0_jVVSdciuZytcC7mEqoWBMLMegC--hGU4pp8Z2xUnvNAFsJsNDyRpEj8wDXiuOAGeZ-DrHjXeMfpsOoaJzOyP5JdxVzivjJ_yCxO7XdbT8D-0g8N_rGDhm206pRknuMIfilJx5xSsSuAl3gRwv38tYl4_Fs0Zv_AW4oAJIl-mn1KTJ-RmtMPvPbU0CYrTne5v5dZidrznzjGIoMAVgw9f0NjzI-DwKB_ulDZqypKWdebPwoXRxdRIJDJrEdI_1OCUQWg_60yeOGizzvLm1WqVazpeVn9tRgj-55YnlhIqwABIKb_e451ChkPR0FqdqoQqOs-kZn6SEhy_aKuS5Y02f7q48rFj0Q3e6i-_bV9OciE2GjRNm2EVAY1iPJVAkqNBPg4uOXnCF9JQI4-periyP8QM5R75nitgskRYMWIo9sQOG4vKOfPd4OEScA8aapbd_pgvNi8TWx8vb1X9XRVeBLUux6CvIkXBWky-MQXeKgwlQxyyUo2IsuNQ1SBmOiQBYqrLdjr0f5L08FnLqQuY8cLEOrAV-x-6IFB5BEOtjVnG6oUs7hxrIQloo9toB0Aso6KpXE4WiypXMglz_SHDZn1Q3RXc4wravXIt4CdcAAHfiGNgRGVkS70lLZ9wyP57Hhl442FpQ-oyUP1dlhInmy1NLDgf3CRjm37-kk7F1Yy5C5Cv0AYLqznOgXKqEpN1a5RD7fbXOem_7A6kEF3jwbc_fYLfC0HOV05ktcNm3neHpvteSnKfEoCbA1Ot6-j3zkitpXc32w67VCsY7rsmSs8XMYDAf0Y_xPaEXYPVrHM1J7nDEsCnBLueYI8YX5xIEPKx-EhcYTi6cnorrH7qPAsdHTE9hSw0gtY2VeUXzcUEBp8Tq5aRSMbU1dvYCq6cLt600ACrDtB_UmhCo5LZ7thFFem5z4OJELuIYvaUb_c0kSbyTfaL-1gBSQHGgcLRI8ms80OtcEJltO7GDCerEwKPynldruANEAzx4GY-AdOidMSrhYEIFA3rnKECnYsKtJlhfk5dJEXbqRNnq1JJxyjDhFdCKsXCPoA3SRxIlyNjEJvsYEkX_Z--FLaBARdQK_dEUiCVGK-D_1-N0D22T8Cw8sV9TnyKHBsPKtj_O26hofL2DRnbVkSOlMUnPCBgsQOBGoiCT8XDf5w33Zd55m2elXLXKbv22QJQkOVhnoKkZbUr-sxEJdwoborShTKY24yftn2dd6vXRlG4F4rP_OXJudHn-SQtpcHUDz3XWwuv2Mo4964f_cCthoi.q2gib5GluGkgoRF3iXRHog\"}"
    },
    "labels":{
        "MARATHON_SINGLE_INSTANCE_APP": "true",
        "overrideTaskName": "lenses",
        "tags": "backend,http"
    },
    "healthChecks": [{
        "protocol": "HTTP",
        "gracePeriodSeconds": 300,
        "intervalSeconds": 15,
        "portIndex": 0,
        "path": "/",
        "timeoutSeconds": 5,
        "maxConsecutiveFailures": 3
    }],
    "upgradeStrategy":{
        "minimumHealthCapacity": 0,
        "maximumOverCapacity": 0
    }
}
